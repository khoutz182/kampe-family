#!/usr/bin/env bash

URL_PREFIX="https://public-sites.s3.fr-par.scw.cloud/kampe-family/"
OUTPUT_DIR="src/assets/kampe-photos/"

declare -a images=("20180629_174555.jpg"
  "20180629_174633.jpg"
  "20180629_174818.jpg"
  "20180629_174823.jpg"
  "20180629_174856.jpg"
  "20180629_174930.jpg"
  "20180629_174959.jpg"
  "20180629_175027_001.jpg"
  "20180629_175029.jpg"
  "20180629_175106.jpg"
  "20180629_175143.jpg"
  "20180629_175206.jpg"
  "20180629_175213.jpg"
  "20180629_175243.jpg"
  "20180629_175305.jpg"
  "20180629_175340.jpg"
  "20180629_175404.jpg"
  "20180629_175428.jpg"
  "20180629_175450.jpg"
  "20180629_175512.jpg"
  "20180629_175532.jpg"
  "20180629_175614.jpg"
  "20180629_175640.jpg"
  "20180629_175714.jpg"
  "20180629_175734.jpg"
  "20180629_175759.jpg"
  "20180629_175822.jpg"
  "20180629_175852.jpg"
  "20180629_175915.jpg"
  "20180629_175947.jpg"
  "20180629_180015.jpg"
  "20180629_180037.jpg"
  "20180629_180120.jpg"
  "20180629_180140.jpg"
  "20180629_180203.jpg"
  "20180629_180207.jpg"
  "20180629_180230.jpg"
  "20180629_180254.jpg"
  "20180629_180318.jpg"
  "20180629_180337.jpg"
  "20180629_180357.jpg"
  "20180629_180418.jpg"
  "20180629_180443.jpg"
  "20180629_180506.jpg"
  "20180629_180540.jpg"
  "20180629_180608.jpg"
  "20180629_180631.jpg"
  "20180629_180650.jpg"
  "20180629_180712.jpg"
  "20180629_180737.jpg"
  "20180629_180805.jpg"
  "20180629_180824.jpg"
  "20180629_180853.jpg"
  "20180629_180924.jpg"
)

for file in "${images[@]}"
do
  FULL_URL="${URL_PREFIX}${file}"
  LOCAL_FILE="${OUTPUT_DIR}/${file}"
  if [ -f "$LOCAL_FILE" ]; then
    echo "$file downloaded already"
    continue
  fi

  curl -s -f0 ${FULL_URL} --output $LOCAL_FILE
  result="$?"
  if [ "$result" -ne 0 ]; then
    echo "failed to download file: ${file}"
  fi
done
